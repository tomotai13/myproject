{% extends 'ytdl/base.html' %}

{% load static %}
{% block title %}
    ダウンローダー テスト
{% endblock title %}

{% block css %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
{% endblock css %}
{% block js %}{% endblock js %}

{% block content %}
    <div class="main">
        <h1>ダウンローダー テスト</h1>
        <form id="ajax-number" action="{% url 'youtube:youtube_test'%}" method="post">
            {% csrf_token %}

            <div class="mb-3">{{ form }}</div>
            <button type="reset" class="button">リセット</button>
            <button type="submit" class="button">送信</button>
        </form>
        <div id="ytplayer" class="ytplayer">
            {{ message }}
            {% if hoge %}
                <script>
                    // Load the IFrame Player API code asynchronously.
                var tag = document.createElement('script');
                tag.src = "https://www.youtube.com/player_api";
                var firstScriptTag = document.getElementsByTagName('script')[0];
                firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

                // Replace the 'ytplayer' element with an <iframe> and
                // YouTube player after the API code downloads.
                const id = "{{ video_Id }}";
                var player;
                function onYouTubePlayerAPIReady() {
                player = new YT.Player('ytplayer', {
                    height: '360',
                    width: '640',
                    videoId: id,
                });
                }
                
                </script>
                
            {% endif %}
        </div>
    </div>
    
{% endblock content %}
{% block jsfile %}
    <!--{% if hoge %}
        <script src="{% static 'js/file.js' %}"></script>
    {% endif %}-->
{% endblock jsfile %}